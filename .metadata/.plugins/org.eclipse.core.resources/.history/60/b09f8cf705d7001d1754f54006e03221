/*
 * Counter.h
 *
 *  Created on: 6 abr 2023
 *      Author: mgnar
 */

#ifndef INC_COUNTER_H_
#define INC_COUNTER_H_

#include "Counter_DataTypes.h"


// Macro to get the clock frequency
#define SOURCE_CLOCK_FREQ CLOCK_GetFreq(kCLOCK_BusClk)
// Macro to convert a microsecond period to raw count value
#define US_TO_COUNT(us, clockFreqInHz) (uint64_t)((uint64_t)us * clockFreqInHz / 1000000U)
// Macro to convert a raw count value to millisecond */
#define MS_TO_COUNT(ms, clockFreqInHz) (uint64_t)((uint64_t)ms * clockFreqInHz / 1000U)

// Exported global functions
void CM_SetUpCounter (unsigned int Time);
void CM_StartCounter (CM_CallbackFunction CallbackFunction);
void CM_StopCounter (CM_CallbackFunction CallbackFunction);
unsigned int CM_GetCounter (void);
void TIM2Init (void);


#endif /* INC_COUNTER_H_ */
